<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Conhecendo o AJAX</title>
    <style>
        body {
            text-align: center;
            font-family: Georgia, 'Times New Roman', Times, serif;
        }
    </style>
</head>

<body>
    <h1>Conhecendo o AJAX</h1>

    <div id="teste">

        <p>Conteúdo inicial</p>
    </div>

    <br>

    <button id="botao">Clique aqui para carregar um conteúdo externo</button>

    <p><input id="cep" type="text" placeholder="Digite seu cep"></p>
    <p><input id="cidade" type="text" placeholder="Cidade"></p>
    <p><input id="uf" type="text" placeholder="UF"></p>

    <script src="js/jquery-3.7.1.js"></script>

    <script>
        /* $(document).ready(function() {
            $("#botao").click(function() {
                $("#teste").load("teste.txt")
            })
        }) */

        $(document).ready(function () {
            $("#cep").blur(function () {
                var valor = $(this).val()
                $.ajax({
                    url: "https://viacep.com.br/ws/" + valor + "/json/",
                    type: "GET",
                    success: function (dados, status) {
                        $("#cidade").val(dados.localidade)
                        $("#uf").val(dados.uf)
                    },
                    error: function (){
                        alert('Erro')
                    }
                })
                /* $.get("https://viacep.com.br/ws/"+ valor +"/json/", function(dados, status){
                    console.log(status)
                    if (status == "sucess") {
                    $("#cidade").val(dados.localidade)
                    $("#uf").val(dados.uf)
                } else {
                    alert('Houve um problema ao requisitar')
                }
                }) */
            })
        })
    </script>
</body>

</html>